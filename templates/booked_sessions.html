<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Booking Confirmation</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f9f9f9;
        }
        h1, h2 {
            color: #333;
        }
        .confirmation-message {
            margin: 20px 0;
            padding: 15px;
            background-color: #d4edda;
            border: 1px solid #c3e6cb;
            border-radius: 5px;
        }
        .cancellation-note {
            margin: 20px 0;
            padding: 15px;
            background-color: #f8d7da;
            border: 1px solid #f5c6cb;
            border-radius: 5px;
            color: #721c24;
        }
        button {
            padding: 10px 15px;
            background-color: #dc3545;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        button:hover {
            background-color: #c82333;
        }
        .nav-links {
            margin-top: 20px;
        }
        .nav-links a {
            margin-right: 10px;
            text-decoration: none;
            color: #007bff;
        }
        .nav-links a:hover {
            text-decoration: underline;
        }
        footer {
            margin-top: 20px;
            padding: 10px 0;
            text-align: center;
            background-color: #e9ecef;
            border-top: 1px solid #ccc;
        }
    </style>
    <script>
        async function cancelBooking(sessionId) {
            if (confirm("Are you sure you want to cancel this booking? This action cannot be undone.")) {
                    alert("Your booking has been successfully canceled.");
                    window.location.href = '/dashboard'; // Redirect to the dashboard after cancellation
                } else {
                    alert("There was an error canceling your booking. Please try again later.");
                }
            }
    </script>
</head>
<body>
    <h1>Booked Sessions</h1>
    <h2>Here are your upcoming tutoring appointments:</h2>
    {% for session in sessions %}
    <div class="confirmation-message">
        Tutor: {{ session.tutor_name }}<br>
        Subject: {{ session.tutor_subject }}<br>
        Date & Time: {{ session.scheduled_time }}<br>
        <br>
        <button onclick="cancelBooking('{{ session.id }}')">Cancel Booking</button>
    </div>
    {% endfor %}

    <div class="cancellation-note">
        <strong>Important Cancellation Information:</strong><br>
        By confirming this session, you are reserving the tutor's time, and any session fees will be based on the tutor's rate. Please note that cancellations made less than 24 hours before the scheduled session may incur a fee. This ensures that our tutorsâ€™ time is respected and helps cover potential losses due to last-minute changes.
    </div>

    <div class="nav-links">
        <h2>Navigate to:</h2>
        <a href="/login">Login</a>
        <a href="/register">Register</a>
        <a href="/dashboard">Dashboard</a>
    </div>

    <footer>
        <p>&copy; 2024 Tutoring Platform</p>
        <p>Contact Us | Privacy Policy | Terms</p>
    </footer>
</body>
</html>
